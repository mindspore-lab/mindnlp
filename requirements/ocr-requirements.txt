# Qwen2-VL OCR 功能依赖配置
# 
# 用途：
#   - Mock 测试：只需要基础依赖（torch, transformers, pillow, pytest）
#   - 真实模型测试：需要完整依赖（包括 qwen-vl-utils）
#
# 安装方式：
#   pip install -r requirements/ocr-requirements.txt
#
# 独立环境配置（推荐用于真实模型测试）：
#   conda create -n qwen2vl_test python=3.10 -y
#   conda activate qwen2vl_test
#   pip install -r requirements/ocr-requirements.txt

# ============================================================================
# 核心依赖（必需）
# ============================================================================

# PyTorch GPU 版本（CUDA 11.8，推荐）
# 安装命令: pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
#
# 其他 CUDA 版本:
# CUDA 12.1: --index-url https://download.pytorch.org/whl/cu121
# CUDA 12.4: pip install torch torchvision torchaudio (默认最新)
# CPU 版本: --index-url https://download.pytorch.org/whl/cpu
torch>=2.4.0
torchvision>=0.19.0
torchaudio>=2.4.0

# Transformers（需要 4.37.0+ 以支持 Qwen2VL）
transformers>=4.37.0
tokenizers>=0.15.0
safetensors>=0.4.3
accelerate>=0.25.0

# 图像处理
pillow>=10.0.0
numpy>=1.24.0,<2.0  # PyTorch 兼容性

# ============================================================================
# 测试依赖（必需）
# ============================================================================

pytest>=7.4.0
pytest-asyncio>=0.21.0

# ============================================================================
# 可选依赖（真实模型测试推荐）
# ============================================================================

qwen-vl-utils  # Qwen2-VL 官方工具包

# ============================================================================
# OCR 服务依赖（API 服务需要）
# ============================================================================

# 取消注释以下依赖来启用 API 服务
fastapi>=0.109.0
uvicorn[standard]>=0.27.0
pydantic>=2.0.0
pydantic-settings>=2.0.0  # Settings 配置管理
python-dotenv>=1.0.0  # .env 文件支持
python-multipart>=0.0.6
opencv-python>=4.8.0
requests>=2.31.0
pyyaml>=6.0
httpx>=0.26.0
